/* =========================
   Universal Base Styles
   ========================= */
:root{
  --bg:#ffffff; --text:#111; --muted:#666;
  --accent:#222; --accent-text:#fff;
  --line:#e6e6e6; --card:#fafafa;
}
*,*::before,*::after{ box-sizing:border-box; }

html,body{
  margin:0; padding:0; height:100%;
  background:var(--bg); color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  line-height:1.5; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* Sticky footer layout */
body{ min-height:100svh; display:flex; flex-direction:column; }
.site-main{ flex:1 0 auto; }
.site-footer{ margin-top:auto; }

img{ max-width:100%; display:block; }

/* Layout helpers */
.container{ width:min(1100px,92%); margin-inline:auto; }
.section{ padding:2.5rem 0; }
.section.alt{ background:var(--card); border-block:1px solid var(--line); }
.section-title{ font-size:1.6rem; margin:0 0 1rem; }

/* Header / Nav */
.site-header{ background:var(--accent); color:var(--accent-text); position:sticky; top:0; z-index:10; }
.header-inner{ display:flex; align-items:center; justify-content:space-between; padding:.9rem 0; }

.logo{ color:var(--accent-text); text-decoration:none; font-weight:700; letter-spacing:.2px; display:flex; align-items:center; gap:.5rem; }
.logo-icon{ width:26px; height:26px; object-fit:contain; }

.nav ul{ margin:0; padding:0; list-style:none; display:flex; gap:1rem; }
.nav a{ color:var(--accent-text); text-decoration:none; padding:.4rem .6rem; border-radius:.35rem; display:inline-block; }
.nav a.active,.nav a:focus-visible,.nav a:hover{ outline:none; background:rgba(255,255,255,.14); }

/* Footer */
.site-footer{ background:var(--accent); color:var(--accent-text); }
.footer-inner{ display:flex; align-items:center; justify-content:space-between; padding:1rem 0; }
.footer-nav{ margin:0; padding:0; list-style:none; display:flex; gap:.8rem; }
.footer-nav a{ color:var(--accent-text); text-decoration:none; padding:.2rem .5rem; border-radius:.3rem; }
.footer-nav a:hover,.footer-nav a.active{ background:rgba(255,255,255,.14); }

/* Hero on home */
.hero{ padding:3rem 0 2.25rem; }
.hero h1{ margin:0 0 .6rem; font-size:clamp(1.6rem,3vw,2.2rem); }
.hero p{ margin:0 0 1rem; color:var(--muted); }

/* Buttons */
.btn{ display:inline-block; text-decoration:none; border:1px solid var(--text); padding:.55rem .9rem; border-radius:.5rem; font-weight:600; }
.btn:hover{ opacity:.9; }
.btn-outline{ background:transparent; }
.btn-small{ padding:.45rem .7rem; font-size:.95rem; }

/* Grid */
.grid{ display:grid; gap:1rem; }
.grid.two{ grid-template-columns:repeat(2,minmax(0,1fr)); }
.grid.three{ grid-template-columns:repeat(3,minmax(0,1fr)); }
@media (max-width:900px){ .grid.three{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (max-width:640px){ .grid.two,.grid.three{ grid-template-columns:1fr; } }

/* Cards */
.card{ border:1px solid var(--line); background:var(--bg); border-radius:.8rem; padding:1rem; }
.card .card-link{ text-decoration:none; font-weight:600; }

/* Split layout */
.split{ display:grid; gap:1rem; grid-template-columns:2fr 1fr; }
@media (max-width:800px){ .split{ grid-template-columns:1fr; } }
.note{ border:1px dashed var(--line); background:var(--bg); border-radius:.7rem; padding:1rem; }

/* Shop specifics */
.subtle{ color:var(--muted); }
.filters{ margin:1rem 0 1.2rem; border:1px solid var(--line); border-radius:.7rem; padding:.8rem; background:var(--bg); }
.filters-row{ display:grid; gap:.8rem; grid-template-columns:2fr 1fr 1fr; }
@media (max-width:720px){ .filters-row{ grid-template-columns:1fr; } }
.label{ display:block; font-size:.9rem; color:var(--muted); margin-bottom:.25rem; }

input[type="search"],input[type="text"],input[type="email"],select,textarea{
  width:100%; padding:.55rem .6rem; border:1px solid var(--line); border-radius:.45rem; background:var(--bg);
}
.products .product .thumb{
  height:170px; border:1px dashed var(--line); border-radius:.6rem; margin-bottom:.8rem;
  display:grid; place-items:center; color:var(--muted); background:var(--card); overflow:hidden;
}
.product-title{ margin:0 0 .2rem; font-size:1.1rem; }
.product-meta{ margin:0 0 .4rem; color:var(--muted); font-size:.95rem; }
.product-desc{ margin:0 0 .8rem; }
.product-bottom{ display:flex; align-items:center; justify-content:space-between; }
.product-topline{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; }
.price{ font-weight:700; }
.badge{ display:inline-block; font-size:.8rem; line-height:1; padding:.35rem .5rem; border-radius:.4rem; border:1px solid var(--line); color:var(--muted); background:var(--bg); }

/* Tech square (About) */
.tech-hero{ margin-top:1rem; }
.tech-banner{
  position:relative; width:100%; max-width:420px; aspect-ratio:1/1; border-radius:1rem; overflow:hidden; border:1px solid var(--line);
  background:url("../images/tech-decor.jpg") center/cover no-repeat, repeating-linear-gradient(0deg, rgba(0,0,0,0.06) 0 2px, rgba(0,0,0,0) 2px 4px);
}
.tech-banner::before{
  content:""; position:absolute; inset:0;
  background:radial-gradient(80% 80% at 50% 50%, rgba(0,0,0,0) 60%, rgba(0,0,0,.35) 100%), repeating-linear-gradient(90deg, rgba(255,255,255,.06) 0 1px, rgba(0,0,0,0) 1px 20px);
  pointer-events:none; mix-blend-mode:overlay;
}
.tech-title{
  position:absolute; inset:0; display:grid; place-items:center; text-align:center;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; font-size:clamp(1.3rem,4vw,2.2rem);
  font-weight:900; letter-spacing:.5px; color:#fff; text-shadow:0 2px 8px rgba(0,0,0,.55), 0 0 1px rgba(0,0,0,.4);
}

/* FULL-WIDTH PAGE BANNERS (with centered title) */
.page-hero{
  position:relative; width:100%;
  min-height:clamp(180px,28vh,360px);
  display:grid; place-items:center; color:#fff; text-align:center;
  background-position:center; background-size:cover; background-repeat:no-repeat;
}
.page-hero::before{ content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.45)); }
.banner-title{ position:relative; font-weight:900; letter-spacing:1px; font-size:clamp(1.6rem,4vw,2.4rem); text-transform:uppercase; text-shadow:0 2px 14px rgba(0,0,0,.6); }

/* choose backgrounds per page */
.banner-about{  background-image:url("../images/aboutbackground.jpg"); }
.banner-shop{   background-image:url("../images/otherpage1.jpg"); }
.banner-builds{ background-image:url("../images/otherpage2.jpg"); }

/* Utility */
.actions{ display:flex; gap:.6rem; flex-wrap:wrap; }
.placeholder{ background:var(--card); }

/* =========================
   Lighthouse Hero (night-only, scoped)
   ========================= */
#lh-hero{
  position:relative;
  width:100%;
  /* compact banner height */
  min-height: clamp(150px, 22vh, 260px);
  display:grid; place-items:center;
  overflow:hidden;
  background:#04130a; /* fills edges behind the scene */
}

/* Fill the hero at full width (no transform shrink = no side gutters) */
#lh-hero .lh-scale{
  position:relative;
  width:100%;
  height:100%;
  transform: none;               /* was scale(...) — removing prevents left/right gaps */
  transform-origin: 50% 0;
}

/* NIGHT PALETTE (default, no toggle) */
#lh-hero{
  --sm:#fff;
  --sm-2:#7b7b7b;
  --sky-1:#060b28;
  --sky-2:#195eaa;
  --sea-1:#3264cb;
  --sea-2:#0059bb;
  --sea-3:#01072b;
  --red:#0c0926;
  --red-2:#323753;
  --white:#091140;
  --shine:#fff3;
  --base-1:#132141;
  --base-2:#06182c;
  --windows:#fc0;
  --reflex:#39ff1433; /* subtle neon reflection */
}

/* keep transforms local */
#lh-hero *{ transform-style:preserve-3d; }

/* sky + sea fill hero width */
#lh-hero .sky{
  position:absolute; left:0; right:0; top:0; height:50%;
  background:linear-gradient(180deg,var(--sky-1),var(--sky-2));
  z-index:-1; display:flex; align-items:flex-end; justify-content:center;
}
#lh-hero .sea{
  position:absolute; left:0; right:0; top:50%; height:50%; z-index:-1;
  background:
    linear-gradient(180deg,var(--sea-1),#0000),
    radial-gradient(circle at 50% 0%, var(--sea-2) 30%, var(--sea-3) 50%, #0000 100%),
    var(--sea-3);
}

/* layout box for the lighthouse scene (smaller) */
#lh-hero .content{
  /* was 60vmin x 100vmin */
  width: 44vmin;
  height: 78vmin;
  position:relative;
  display:flex; align-items:center; justify-content:center;
}

/* halo + reflection (scaled down) */
#lh-hero .sky:before,
#lh-hero .content:after{
  content:""; position:absolute;
  width:14vmin; height:14vmin;
  background:radial-gradient(circle at 50% 60%, var(--sm-2), var(--sm) 100%);
  border-radius:50%;
  margin-top:-5.6vmin;            /* proportional to size change */
  clip-path:polygon(0 0,100% 0,100% 71%,0 71%);
  box-shadow:0 .5vmin .5vmin 0 var(--sm) inset;
}
#lh-hero .sky:before{ bottom:-5vmin; }
#lh-hero .content:after{
  transform:rotateX(180deg); transform-origin:50% 71%;
  opacity:.25;
  background:
    linear-gradient(180deg,#0000,var(--sm)),
    radial-gradient(circle at 50% 50%, #0000, #0000 5vmin 8.75vmin, #0000 calc(9.25vmin + 5px) 100%);
  box-shadow:0 -1vmin 1vmin 0 var(--sm) inset;
}

#lh-hero .content *{ position:absolute; }

/* lighthouse pieces */
#lh-hero .lighthouse{
  width:11vmin; height:30vmin;
  margin-top:-25vmin;              /* was -30vmin — lowers tower so the top isn't clipped */
  perspective:80vmin; background:transparent;
}
#lh-hero .base{
  --rock-1: var(--base-1) 1.1vmin, #0000 calc(1.1vmin + 3px) 100%;
  --rock-2: var(--base-1) 1vmin,   #0000 calc(1vmin + 1px)   100%;
  background:
    radial-gradient(ellipse at 14% 37%, var(--rock-2)),
    radial-gradient(ellipse at 86% 37%, var(--rock-2)),
    radial-gradient(ellipse at 19% 6%,  var(--rock-1)),
    radial-gradient(ellipse at 81% 6%,  var(--rock-1)),
    radial-gradient(ellipse at 63% 32%, var(--rock-1)),
    radial-gradient(ellipse at 37% 32%, var(--rock-1)),
    radial-gradient(ellipse at 76% 60%, var(--rock-1)),
    radial-gradient(ellipse at 24% 60%, var(--rock-1)),
    radial-gradient(ellipse at 98% 84%, var(--rock-1)),
    radial-gradient(ellipse at 73% 96%, var(--rock-1)),
    radial-gradient(ellipse at 50% 72%, var(--rock-1)),
    radial-gradient(ellipse at 27% 96%, var(--rock-1)),
    radial-gradient(ellipse at 2% 84%,  var(--rock-1)),
    linear-gradient(180deg, var(--base-1) 0 .25vmin, #0000 0 100%),
    linear-gradient(90deg, #0000 1vmin, var(--base-2) 0 calc(100% - 1vmin), #0000 0 100%),
    linear-gradient(-119deg, #0000 0 1.25vmin, var(--base-2) .9vmin 70%, #0000 0 100%),
    linear-gradient(119deg,  #0000 0 1.25vmin, var(--base-2) .9vmin 70%, #0000 0 100%),
    linear-gradient(90deg, #0000 0 .75vmin, var(--base-1) 0 calc(100% - .75vmin), #0000 0 100%),
    linear-gradient(-119deg,#0000 0 .9vmin, var(--base-1) .9vmin 70%, #0000 0 100%),
    linear-gradient(119deg, #0000 0 .9vmin, var(--base-1) .9vmin 70%, #0000 0 100%);
  width:11vmin; height:3vmin; bottom:0; border-radius:1.55vmin 1.55vmin 0 0;
}
#lh-hero .base:before{
  content:""; position:absolute; top:-2vmin; left:1.75vmin; width:7.5vmin; height:2vmin;
  background:
    linear-gradient(-95deg,#0000 0 .25vmin, var(--red-2) .26vmin .65vmin, var(--red) .66vmin 6vmin, #0000 0 100%),
    linear-gradient( 95deg,#0000 0 .25vmin, var(--red-2) .26vmin .65vmin, var(--red) .66vmin 6vmin, #0000 0 100%);
}
#lh-hero .base:after{
  content:""; position:absolute; top:-2vmin; left:3.5vmin; width:4.1vmin; height:2vmin;
  background:
    linear-gradient(-112deg,var(--red) 0 1vmin, var(--white) 1.01vmin 1.25vmin, #0000 1.26vmin 100%),
    linear-gradient( 112deg,var(--red) 0 1vmin, var(--white) 1.01vmin 1.25vmin, #0000 1.26vmin 100%),
    repeating-linear-gradient(0deg, var(--base-2) 0 .3vmin, var(--base-1) 0 .5vmin);
  background-repeat:no-repeat; background-position:0 0,0 0,5% 0; background-size:100% 100%,100% 100%,90% 100%;
}

#lh-hero .tower{
  background:
    radial-gradient(circle at 50% 100%, var(--windows) .4vmin, #0000 .41vmin 100%),
    radial-gradient(circle at 50% calc(100% - .25vmin), var(--windows) .4vmin, #0000 .41vmin 100%),
    radial-gradient(circle at 50% calc(100% - .5vmin),  var(--windows) .4vmin, #0000 .41vmin 100%),
    radial-gradient(circle at 50% calc(100% - .75vmin), var(--windows) .4vmin, #0000 .41vmin 100%),
    radial-gradient(circle at 50% calc(100% - 1vmin),   var(--windows) .4vmin, #0000 .41vmin 100%),
    linear-gradient(-94.5deg, var(--shine) 0 1.85vmin, #0000 1.86vmin 100%),
    linear-gradient( 94.5deg, var(--shine) 0 1.85vmin, #0000 1.86vmin 100%),
    radial-gradient(circle at 50% 125%, var(--white) 0 9vmin, var(--red) 9.01vmin 13vmin, var(--white) 13.01vmin 17vmin, var(--red) 17.01vmin 21vmin, var(--white) 21.01vmin 23vmin);
  width:6vmin; height:19vmin; left:2.5vmin; top:6vmin;
  clip-path:polygon(25% 0, 75% 0, 100% 100%, 0 100%);
}

/* full style for the cap/top (restored from the original pen) */
#lh-hero .top{
  z-index: 2;
  background:
    linear-gradient(90deg, var(--shine) 0 0.75vmin, #0000 0 100%),
    linear-gradient(90deg, var(--shine) 0 0.75vmin, #0000 0 100%),
    linear-gradient(90deg, var(--shine) 0 0.7vmin,  #0000 0 100%),
    linear-gradient(90deg, var(--shine) 0 0.7vmin,  #0000 0 100%),
    conic-gradient(from -1deg at 8% 89%, #0000 0 35%, var(--shine) 36% 100%),
    conic-gradient(from 0deg  at 92% 89%, var(--shine) 0 64%, #0000 65% 100%),
    radial-gradient(circle at 50% 1.55vmin, #fff, #fc0 0.25vmin, var(--red-2) calc(0.25vmin + 1px) 0.35vmin, #0000 calc(0.35vmin + 1px) 100%),
    radial-gradient(circle at 50% 187%, var(--white) 0 7vmin, #0000 calc(7vmin + 1px) 7.5vmin, var(--white) calc(7.5vmin + 1px) 8.35vmin, #0000 calc(8.35vmin + 1px) 9.5vmin, var(--white) calc(9.5vmin + 1px) 100%),
    linear-gradient(-95deg, #0000 0 1.4vmin, var(--shine) calc(1.4vmin + 1px) 1.65vmin, var(--red) calc(1.65vmin + 1px) 2.85vmin, #0000 0 100%),
    linear-gradient( 95deg, #0000 0 1.4vmin, var(--shine) calc(1.4vmin + 1px) 1.65vmin, var(--red) calc(1.65vmin + 1px) 2.85vmin, #0000 0 100%);
  width: 4.65vmin;
  height: 5.5vmin;
  left: 3.15vmin;
  top: 0.75vmin;
  border-radius: 0.5vmin;
  clip-path: polygon(0% 96%, 0% 70%, 22% 63%, 24% 53%, 7% 56%, 8% 41%, 25% 38%, 27% 17%, 15% 18%, 16% 10%, 22% 8%, 35% 6%, 54% 5%, 74% 8%, 73% 8%, 82% 10%, 83% 18%, 72% 17%, 75% 37%, 88% 41%, 89% 56%, 77% 54%, 78% 62%, 100% 70%, 100% 96%, 85% 100%, 15% 100%);
  background-repeat: no-repeat;
  background-size:
    1vmin 1.1vmin, 1vmin 1.1vmin, 1vmin 1.15vmin, 0.45vmin 1.15vmin,
    100% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%;
  background-position:
    3.45vmin 0.25vmin, 0.35vmin 0.25vmin, 0vmin 2.1vmin, 3.75vmin 2.1vmin,
    0 0, 0 0, 0 0, 0 0, 0 0, 0 0;
}

/* roof line above the cap */
#lh-hero .roof{
  z-index: 3;
  border: 0.65vmin solid transparent;
  border-bottom-color: var(--red);
  left: 4.9vmin;
  top: -0.2vmin;
}

/* reflection lighthouse */
#lh-hero .lighthouse + .lighthouse{ transform-origin:50% 100%; transform:rotateX(180deg); opacity:.15; }

/* windows */
#lh-hero .tower:before,
#lh-hero .tower:after{
  content:""; position:absolute; left:2.6vmin; top:.5vmin; width:.7vmin; height:1.3vmin; border-radius:1vmin 1vmin 0 0;
  background:
    linear-gradient(90deg,#0000 0 .3vmin,var(--white) 0 .45vmin,#0000 0 100%),
    linear-gradient(180deg,var(--windows) 0 .35vmin,#0000 0 .45vmin,var(--windows) 0 .75vmin,#0000 0 .85vmin,var(--windows) 0 100%);
  background-repeat:no-repeat; background-size:100% 75%,100% 100%; background-position:0 100%,0 0;
}
#lh-hero .tower:after{ top:8vmin; }

/* spinning light — extend beams so they reach the full frame during rotation */
#lh-hero .light{
  width:.75vmin; height:.75vmin; left:5.1vmin; top:1.95vmin; border-radius:50%;
  background:transparent; animation:lh-spin 6s linear infinite; perspective:10vmin;
}
#lh-hero .light:before,
#lh-hero .light:after{
  content:""; position:absolute;
  width:140vmin;                 /* was 30vmin — ensures sweep covers full width */
  height:5vmin;
  margin-top:-2.5vmin; margin-left:.375vmin;
  background:radial-gradient(circle at 0% 50%, rgba(57,255,20,.6), #0000);
  clip-path:polygon(100% 0, 0 53%, 100% 100%);
}
#lh-hero .light:after{ transform:rotateX(60deg); }
#lh-hero #lh-light:checked ~ .content .lighthouse .light{ animation-play-state:paused; }
@keyframes lh-spin{ 25%{opacity:.5;} 50%{opacity:1;} 100%{ transform:rotateY(360deg); } }

/* sea reflex lines & clouds/rocks — unchanged from earlier, scoped under #lh-hero */
#lh-hero .sea:after{ content:""; position:absolute; inset:0;
  background:linear-gradient(180deg,#fff4,var(--sea-1) 1%,#0000 30%),
             radial-gradient(circle at 50% 0%, var(--sea-2), #024479 50%, #000);
  opacity:.75;
}
#lh-hero .sea span{ /* …same as before… */ }
#lh-hero .sea span:before{ /* … */ }
#lh-hero .sea span:after{  /* … */ }

#lh-hero .sky span{ /* …cloud pieces as before… */ }
#lh-hero .sky span:before, #lh-hero .sky span:after{ /* … */ }
#lh-hero .sky i{ /* …rocks… */ }

/* no day/night switch in this build */
#lh-hero label[for=lh-night]{ display:none !important; }
#lh-hero input{ display:none; } /* keep only the pause checkbox hidden */